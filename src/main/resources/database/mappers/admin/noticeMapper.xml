<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="com.starbucks.sw4.admin.tables.notice.NoticeDAO">
	
	<insert id="setInsert" parameterType="NoticeDTO">
		insert into staffNotice values(
			staffNotice_seq.NEXTVAL, #{title}, #{writer}, #{contents}, to_char(current_timestamp,'YYYY-MM-DD HH24:MI:SS'), 0)
	</insert>
	
	<select id="getList" resultType="NoticeDTO">
		select * from staffNotice order by noticeNum DESC
	</select>
	
	<select id="getOne" parameterType="NoticeDTO" resultType="NoticeDTO">
		select * from staffNotice where noticeNum = #{noticeNum}
	</select>
	
	<!-- hit update -->
	<update id="setHitUpdate" parameterType="NoticeDTO">
		update staffNotice set hit=hit+1 where noticeNum=#{noticeNum}
	</update>
	
</mapper>